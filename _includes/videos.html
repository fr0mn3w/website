<!-- _includes/video.html -->
{% if include.file %}
  <!-- Self-hosted video -->
  <div class="video-container">
    <video {% unless include.no_controls %}controls{% endunless %}
           preload="metadata"
           {% if include.autoplay %}autoplay muted{% endif %}
           {% if include.loop %}loop{% endif %}
           {% if include.poster %}poster="/assets/{{ include.folder }}/{{ include.poster }}"{% endif %}>
      
      <!-- Simple, direct path to video -->
      <source src="/assets/{{ include.folder }}/{{ include.file }}" type="video/mp4">
      
      <!-- Fallback text -->
      Your browser does not support the video tag. 
      <a href="/assets/{{ include.folder }}/{{ include.file }}">Download the video</a>.
    </video>
    
    {% if include.caption %}
      <p class="video-caption">{{ include.caption }}</p>
    {% endif %}
  </div>
{% elsif include.youtube %}
  <!-- YouTube fallback -->
  <div class="video-wrapper">
    <iframe src="https://www.youtube.com/embed/{{ include.youtube }}?rel=0" 
            frameborder="0" allowfullscreen></iframe>
  </div>
{% endif %}